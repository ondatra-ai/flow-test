---
description: 
globs: 
alwaysApply: true
---
# Project Structure and Implementation Rules

## Directory Structure
```
./
├── src/
│   ├── cli/
│   │   ├── chat.ts           # Chat interface implementation
│   │   ├── renderer.ts       # UI rendering logic
│   │   └── input-handler.ts  # User input processing
│   ├── services/
│   │   └── flow-service/
│   │       └── flow-service.ts   # Flow service implementation
│   ├── mcp/
│   │   ├── server-manager.ts # Manage MCP server lifecycle
│   │   ├── client.ts         # MCP client implementation
│   │   ├── tool-registry.ts  # Tool discovery and caching
│   │   └── types.ts          # MCP type definitions
│   ├── config/
│   │   ├── config-loader.ts  # Load .flows configuration
│   │   └── validator.ts      # Validate configurations
│   ├── utils/
│   │   ├── logger.ts         # Logging utilities
│   │   └── errors.ts         # Custom error classes
│   └── index.ts              # Main entry point
├── tests/
│   ├── unit/                 # Unit tests (mirrors src structure)
│   └── integration/          # Integration tests
├── examples/
│   └── .flows/               # Example configurations
│       ├── flows/
│       │   └── example-flow.json
│       └── servers/
│           └── example-server.json
├── doc/
│   ├── installation.md       # Installation and setup guide
│   ├── usage.md              # Usage documentation
│   ├── flow-format.md        # Flow format reference
│   ├── mcp-servers.md        # MCP server configuration guide
│   ├── examples.md           # Example flows and use cases
│   ├── development.md        # Development guide for contributors
│   └── architecture.md       # System architecture overview
├── README.md                 # Main project documentation
└── scripts/
    └── build.ts              # Build script
```
